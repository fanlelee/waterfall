<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="//code.jquery.com/jquery-2.1.1.min.js"></script>
    <title>Document</title>
    <style>
        .container {
            max-width: 1000px;
            position: relative;
            margin: auto;
        }
        .container>img {
            position: absolute;
            margin: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <img src="https://via.placeholder.com/200x200" alt="1">
        <img src="https://via.placeholder.com/200x300" alt="2">
        <img src="https://via.placeholder.com/200x480" alt="3">
        <img src="https://via.placeholder.com/200x220" alt="4">
        <img src="https://via.placeholder.com/200x190" alt="5">
        <img src="https://via.placeholder.com/200x250" alt="6">
        <img src="https://via.placeholder.com/200x250" alt="">
        <img src="https://via.placeholder.com/200x300" alt="">
        <img src="https://via.placeholder.com/200x480" alt="">
        <img src="https://via.placeholder.com/200x500" alt="">
        <img src="https://via.placeholder.com/200x350" alt="">
        <img src="https://via.placeholder.com/200x200" alt="">
        <img src="https://via.placeholder.com/200x250" alt="">
        <img src="https://via.placeholder.com/200x230" alt="">
        <img src="https://via.placeholder.com/200x430" alt="">
        <img src="https://via.placeholder.com/200x600" alt="">
        <img src="https://via.placeholder.com/200x330" alt="">
        <img src="https://via.placeholder.com/200x290" alt="">
        <img src="https://via.placeholder.com/200x310" alt="">
        <img src="https://via.placeholder.com/200x440" alt="">
    </div>
    <script>
        var colCount
        var colHeightArray = []
        var imgWidth



        
        
        
        
        $('.container>img').load(function(){
            imgWidth = $('.container>img').outerWidth(true)
            colCount = Math.floor($('.container').width()/imgWidth)

            if(colHeightArray.length == 0){
                for(var i=0; i<colCount; i++){
                    colHeightArray[i] = 0
                }                
            }

            
            var minValue = colHeightArray[0]
            var minIndex = 0
            for(var i=0; i<colCount; i++){
                if(colHeightArray[i] < minValue){
                    minValue = colHeightArray[i]
                    minIndex = i
                }
            }
                $(this).css({
                    "top": minValue,
                    "left": minIndex*($(this).outerWidth(true))
                })

                // console.log(colHeightArray)
                
                colHeightArray[minIndex] += $(this).outerHeight(true)
                // console.log(colHeightArray)
        })



    </script>
</body>
</html>